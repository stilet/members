<h1 class='title'>Add member</h1>

<MemberEdit
  on:submit=createMember(event)
  {loading} 
/>

<script>
  import gql from 'graphql-tag'

  export default {
    components: {
      MemberEdit: 'src/components/MemberEdit.html'
    },
    methods: {
      async createMember(data) {
        try {
          this.set({ loading: true })
          await this.store.addMember(data)
          this.set({ loading: false })
        } catch (e) {
          console.error("Error trying to create member", e)
        }
      }
    }
  }
</script>